var SWFUpload;if(typeof SWFUpload==="function"){SWFUpload.queue={};SWFUpload.prototype.initSettings=function(a){return function(){var b=this;typeof a==="function"&&a.call(b);b.queueSettings={};b.queueSettings.queue_cancelled_flag=false;b.queueSettings.queue_upload_count=0;b.queueSettings.user_upload_complete_handler=b.settings.upload_complete_handler;b.queueSettings.user_upload_start_handler=b.settings.upload_start_handler;b.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler;b.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler;b.settings.queue_complete_handler=b.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings);SWFUpload.prototype.startUpload=function(a){this.queueSettings.queue_cancelled_flag=false;this.callFlash("StartUpload",[a])};SWFUpload.prototype.cancelQueue=function(){var a=this;a.queueSettings.queue_cancelled_flag=true;a.stopUpload();var b=a.getStats();while(b.files_queued>0){a.cancelUpload();b=a.getStats()}};SWFUpload.queue.uploadStartHandler=function(c){var b=this,a;if(typeof b.queueSettings.user_upload_start_handler==="function")a=b.queueSettings.user_upload_start_handler.call(b,c);a=a===false?false:true;b.queueSettings.queue_cancelled_flag=!a;return a};SWFUpload.queue.uploadCompleteHandler=function(d){var b=false,a=this,e=a.queueSettings.user_upload_complete_handler,c;if(d.filestatus===SWFUpload.FILE_STATUS.COMPLETE)a.queueSettings.queue_upload_count++;if(typeof e==="function")c=e.call(a,d)===b?b:true;else if(d.filestatus===SWFUpload.FILE_STATUS.QUEUED)c=b;else c=true;if(c){var f=a.getStats();if(f.files_queued>0&&a.queueSettings.queue_cancelled_flag===b)a.startUpload();else if(a.queueSettings.queue_cancelled_flag===b){a.queueEvent("queue_complete_handler",[a.queueSettings.queue_upload_count]);a.queueSettings.queue_upload_count=0}else{a.queueSettings.queue_cancelled_flag=b;a.queueSettings.queue_upload_count=0}}}}